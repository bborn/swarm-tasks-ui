var t=Object.defineProperty,e=(e,n,o)=>((e,n,o)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o)(e,"symbol"!=typeof n?n+"":n,o);function n(){}function o(t){return t()}function r(){return Object.create(null)}function s(t){t.forEach(o)}function a(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function d(t){t.parentNode&&t.parentNode.removeChild(t)}function u(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function p(){return f(" ")}function g(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function m(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t){return""===t?null:+t}function h(t,e){e=""+e,t.data!==e&&(t.data=e)}function b(t,e){t.value=null==e?"":e}function x(t,e,n){for(let o=0;o<t.options.length;o+=1){const n=t.options[o];if(n.__value===e)return void(n.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}function v(t){const e=t.querySelector(":checked");return e&&e.__value}let k;function $(t){k=t}function w(){if(!k)throw new Error("Function called outside component initialization");return k}function _(){const t=w();return(e,n,{cancelable:o=!1}={})=>{const r=t.$$.callbacks[e];if(r){const s=function(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}(e,n,{cancelable:o});return r.slice().forEach(e=>{e.call(t,s)}),!s.defaultPrevented}return!0}}function C(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t.call(this,e))}!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const n of t)if("childList"===n.type)for(const t of n.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)}).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();const E=[],T=[];let H=[];const j=[],O=Promise.resolve();let M=!1;function S(t){H.push(t)}const L=new Set;let N=0;function P(){if(0!==N)return;const t=k;do{try{for(;N<E.length;){const t=E[N];N++,$(t),A(t.$$)}}catch(e){throw E.length=0,N=0,e}for($(null),E.length=0,N=0;T.length;)T.pop()();for(let t=0;t<H.length;t+=1){const e=H[t];L.has(e)||(L.add(e),e())}H.length=0}while(E.length);for(;j.length;)j.pop()();M=!1,L.clear(),$(t)}function A(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(S)}}const I=new Set;let D;function F(){D={r:0,c:[],p:D}}function B(){D.r||s(D.c),D=D.p}function J(t,e){t&&t.i&&(I.delete(t),t.i(e))}function U(t,e,n,o){if(t&&t.o){if(I.has(t))return;I.add(t),D.c.push(()=>{I.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}function q(t){return void 0!==(null==t?void 0:t.length)?t:Array.from(t)}function z(t,e){U(t,1,1,()=>{e.delete(t.key)})}function K(t){t&&t.c()}function X(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),S(()=>{const e=t.$$.on_mount.map(o).filter(a);t.$$.on_destroy?t.$$.on_destroy.push(...e):s(e),t.$$.on_mount=[]}),i.forEach(S)}function R(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];H.forEach(o=>-1===t.indexOf(o)?e.push(o):n.push(o)),n.forEach(t=>t()),H=e}(n.after_update),s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function V(t,e){-1===t.$$.dirty[0]&&(E.push(t),M||(M=!0,O.then(P)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function G(t,e,o,a,i,l,c=null,u=[-1]){const f=k;$(t);const p=t.$$={fragment:null,ctx:[],props:l,update:n,not_equal:i,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:r(),dirty:u,skip_bound:!1,root:e.target||f.$$.root};c&&c(p.root);let g=!1;if(p.ctx=o?o(t,e.props||{},(e,n,...o)=>{const r=o.length?o[0]:n;return p.ctx&&i(p.ctx[e],p.ctx[e]=r)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](r),g&&V(t,e)),n}):[],p.update(),g=!0,s(p.before_update),p.fragment=!!a&&a(p.ctx),e.target){if(e.hydrate){const t=(m=e.target,Array.from(m.childNodes));p.fragment&&p.fragment.l(t),t.forEach(d)}else p.fragment&&p.fragment.c();e.intro&&J(t.$$.fragment),X(t,e.target,e.anchor),P()}var m;$(f)}class Q{constructor(){e(this,"$$"),e(this,"$$set")}$destroy(){R(this,1),this.$destroy=n}$on(t,e){if(!a(e))return n;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(e),()=>{const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function W(t){let e,n,o,r=t[0].priority+"";return{c(){e=u("span"),n=f(r),m(e,"class",o="text-xs px-2 py-0.5 rounded-full border "+t[2][t[0].priority])},m(t,o){c(t,e,o),l(e,n)},p(t,s){1&s&&r!==(r=t[0].priority+"")&&h(n,r),1&s&&o!==(o="text-xs px-2 py-0.5 rounded-full border "+t[2][t[0].priority])&&m(e,"class",o)},d(t){t&&d(e)}}}function Y(t){let e,n,o,r,s,a=(t[3][t[0].category]||"📌")+"",i=t[0].category+"";return{c(){e=u("span"),n=f(a),o=p(),r=f(i),m(e,"class","text-xs text-gray-500"),m(e,"title",s=t[0].category)},m(t,s){c(t,e,s),l(e,n),l(e,o),l(e,r)},p(t,o){1&o&&a!==(a=(t[3][t[0].category]||"📌")+"")&&h(n,a),1&o&&i!==(i=t[0].category+"")&&h(r,i),1&o&&s!==(s=t[0].category)&&m(e,"title",s)},d(t){t&&d(e)}}}function Z(t){let e,n,o,r=t[0].estimatedHours+"";return{c(){e=u("span"),n=f(r),o=f("h"),m(e,"class","text-xs text-gray-400")},m(t,r){c(t,e,r),l(e,n),l(e,o)},p(t,e){1&e&&r!==(r=t[0].estimatedHours+"")&&h(n,r)},d(t){t&&d(e)}}}function tt(t){let e,n,o=t[0].id+"";return{c(){e=u("div"),n=f(o),m(e,"class","mt-2 text-xs text-gray-400")},m(t,o){c(t,e,o),l(e,n)},p(t,e){1&e&&o!==(o=t[0].id+"")&&h(n,o)},d(t){t&&d(e)}}}function et(t){let e,o,r,a,i,y,b,x,v,k,$,w,_,C,E,T,H,j,O=t[0].title+"",M=t[0].priority&&W(t),S=t[0].category&&Y(t),L=t[0].estimatedHours&&Z(t),N=t[0].id&&tt(t);return{c(){e=u("div"),o=u("div"),r=u("h3"),a=f(O),i=p(),y=u("div"),b=u("button"),b.innerHTML='<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>',x=p(),v=u("button"),v.innerHTML='<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>',k=p(),$=u("div"),w=u("div"),M&&M.c(),_=p(),S&&S.c(),C=p(),L&&L.c(),E=p(),N&&N.c(),m(r,"class","text-sm font-medium text-gray-900 flex-1 pr-2"),m(b,"class","text-gray-400 hover:text-gray-600 transition-colors"),m(b,"title","Edit task"),m(v,"class","text-gray-400 hover:text-red-600 transition-colors"),m(v,"title","Delete task"),m(y,"class","flex items-center space-x-1"),m(o,"class","flex items-start justify-between mb-2"),m(w,"class","flex items-center space-x-2"),m($,"class","flex items-center justify-between"),m(e,"draggable","true"),m(e,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-4 cursor-move hover:shadow-md transition-shadow"),m(e,"role","article"),m(e,"aria-label",T="Task: "+t[0].title)},m(n,s){c(n,e,s),l(e,o),l(o,r),l(r,a),l(o,i),l(o,y),l(y,b),l(y,x),l(y,v),l(e,k),l(e,$),l($,w),M&&M.m(w,null),l(w,_),S&&S.m(w,null),l($,C),L&&L.m($,null),l(e,E),N&&N.m(e,null),H||(j=[g(b,"click",t[5]),g(v,"click",t[6]),g(e,"dragstart",t[4])],H=!0)},p(t,[n]){1&n&&O!==(O=t[0].title+"")&&h(a,O),t[0].priority?M?M.p(t,n):(M=W(t),M.c(),M.m(w,_)):M&&(M.d(1),M=null),t[0].category?S?S.p(t,n):(S=Y(t),S.c(),S.m(w,null)):S&&(S.d(1),S=null),t[0].estimatedHours?L?L.p(t,n):(L=Z(t),L.c(),L.m($,null)):L&&(L.d(1),L=null),t[0].id?N?N.p(t,n):(N=tt(t),N.c(),N.m(e,null)):N&&(N.d(1),N=null),1&n&&T!==(T="Task: "+t[0].title)&&m(e,"aria-label",T)},i:n,o:n,d(t){t&&d(e),M&&M.d(),S&&S.d(),L&&L.d(),N&&N.d(),H=!1,s(j)}}}function nt(t,e,n){let{task:o}=e;const r=_();return t.$$set=t=>{"task"in t&&n(0,o=t.task)},[o,r,{high:"bg-red-100 text-red-800 border-red-200",medium:"bg-yellow-100 text-yellow-800 border-yellow-200",low:"bg-green-100 text-green-800 border-green-200"},{"ai-features":"🤖",features:"⚡",infrastructure:"🏗️","ui-ux":"🎨",analytics:"📊",integrations:"🔗",setup:"🚀"},function(e){C.call(this,t,e)},()=>r("edit"),()=>r("delete")]}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");class ot extends Q{constructor(t){super(),G(this,t,nt,et,i,{task:0})}}function rt(t,e,n){const o=t.slice();return o[14]=e[n],o}function st(t,e){let n,o,r;return o=new ot({props:{task:e[14]}}),o.$on("dragstart",function(...t){return e[11](e[14],...t)}),o.$on("edit",function(){return e[12](e[14])}),o.$on("delete",function(){return e[13](e[14])}),{key:t,first:null,c(){n=f(""),K(o.$$.fragment),this.first=n},m(t,e){c(t,n,e),X(o,t,e),r=!0},p(t,n){e=t;const r={};2&n&&(r.task=e[14]),o.$set(r)},i(t){r||(J(o.$$.fragment,t),r=!0)},o(t){U(o.$$.fragment,t),r=!1},d(t){t&&d(n),R(o,t)}}}function at(t){let e;return{c(){e=u("div"),e.innerHTML='<p class="text-sm">No tasks</p> <p class="text-xs mt-1">Drop tasks here or click + to create</p>',m(e,"class","text-center py-8 text-gray-400")},m(t,n){c(t,e,n)},d(t){t&&d(e)}}}function it(t){let e,n,o,r,a,i,y,b,x,v,k,$,w,_,C,E,T,H,j,O,M=t[1].length+"",S=[],L=new Map,N=q(t[1]);const P=t=>t[14].id;for(let s=0;s<N.length;s+=1){let e=rt(t,N,s),n=P(e);L.set(n,S[s]=st(n,e))}let A=0===t[1].length&&at();return{c(){e=u("div"),n=u("div"),o=u("h2"),r=f(t[0]),a=p(),i=u("span"),y=f("("),b=f(M),x=f(")"),k=p(),$=u("button"),$.innerHTML='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>',w=p(),_=u("div");for(let t=0;t<S.length;t+=1)S[t].c();C=p(),A&&A.c(),m(i,"class","ml-2 text-sm font-normal text-gray-500"),m(o,"class",v="text-lg font-semibold "+t[8][t[2]]),m($,"class","text-gray-400 hover:text-gray-600 transition-colors"),m($,"title","Add new task"),m(n,"class","flex items-center justify-between mb-4"),m(_,"class","flex-1 space-y-3 overflow-y-auto"),m(e,"class",E="flex flex-col h-full "+t[7][t[2]]+" rounded-lg border-2 border-dashed p-4"),m(e,"role","region"),m(e,"aria-label",T=t[0]+" tasks")},m(s,d){c(s,e,d),l(e,n),l(n,o),l(o,r),l(o,a),l(o,i),l(i,y),l(i,b),l(i,x),l(n,k),l(n,$),l(e,w),l(e,_);for(let t=0;t<S.length;t+=1)S[t]&&S[t].m(_,null);l(_,C),A&&A.m(_,null),H=!0,j||(O=[g($,"click",t[10]),g(e,"drop",t[5]),g(e,"dragover",t[6])],j=!0)},p(t,[n]){(!H||1&n)&&h(r,t[0]),(!H||2&n)&&M!==(M=t[1].length+"")&&h(b,M),(!H||4&n&&v!==(v="text-lg font-semibold "+t[8][t[2]]))&&m(o,"class",v),26&n&&(N=q(t[1]),F(),S=function(t,e,n,o,r,a,i,l,c,d,u,f){let p=t.length,g=a.length,m=p;const y={};for(;m--;)y[t[m].key]=m;const h=[],b=new Map,x=new Map,v=[];for(m=g;m--;){const t=f(r,a,m),o=n(t);let s=i.get(o);s?v.push(()=>s.p(t,e)):(s=d(o,t),s.c()),b.set(o,h[m]=s),o in y&&x.set(o,Math.abs(m-y[o]))}const k=new Set,$=new Set;function w(t){J(t,1),t.m(l,u),i.set(t.key,t),u=t.first,g--}for(;p&&g;){const e=h[g-1],n=t[p-1],o=e.key,r=n.key;e===n?(u=e.first,p--,g--):b.has(r)?!i.has(o)||k.has(o)?w(e):$.has(r)?p--:x.get(o)>x.get(r)?($.add(o),w(e)):(k.add(r),p--):(c(n,i),p--)}for(;p--;){const e=t[p];b.has(e.key)||c(e,i)}for(;g;)w(h[g-1]);return s(v),h}(S,n,P,0,t,N,L,_,z,st,C,rt),B()),0===t[1].length?A||(A=at(),A.c(),A.m(_,null)):A&&(A.d(1),A=null),(!H||4&n&&E!==(E="flex flex-col h-full "+t[7][t[2]]+" rounded-lg border-2 border-dashed p-4"))&&m(e,"class",E),(!H||1&n&&T!==(T=t[0]+" tasks"))&&m(e,"aria-label",T)},i(t){if(!H){for(let t=0;t<N.length;t+=1)J(S[t]);H=!0}},o(t){for(let e=0;e<S.length;e+=1)U(S[e]);H=!1},d(t){t&&d(e);for(let e=0;e<S.length;e+=1)S[e].d();A&&A.d(),j=!1,s(O)}}}function lt(t,e,n){let{title:o}=e,{tasks:r=[]}=e,{column:s}=e,{color:a="gray"}=e;const i=_();function l(t,e){i("dragstart",t,e,s)}return t.$$set=t=>{"title"in t&&n(0,o=t.title),"tasks"in t&&n(1,r=t.tasks),"column"in t&&n(9,s=t.column),"color"in t&&n(2,a=t.color)},[o,r,a,i,l,function(t){i("drop",t,s)},function(t){i("dragover",t)},{gray:"bg-gray-50 border-gray-200",blue:"bg-blue-50 border-blue-200",red:"bg-red-50 border-red-200",green:"bg-green-50 border-green-200"},{gray:"text-gray-700",blue:"text-blue-700",red:"text-red-700",green:"text-green-700"},s,()=>i("newtask"),(t,e)=>l(e,t),t=>i("edit",{task:t}),t=>i("delete",{taskId:t.id})]}class ct extends Q{constructor(t){super(),G(this,t,lt,it,i,{title:0,tasks:1,column:9,color:2})}}function dt(t){let e,o,r,a,i,v,k,$,w,_,C,E,T,H,j,O,M,L,N,P,A,I,D,F,B,J,U,q,z,K,X,R,V,G,Q,W,Y,Z,tt,et,nt,ot,rt,st,at,it,lt,ct,dt,ut,ft,pt=t[0]?"Edit Task":"New Task",gt=t[0]?"Update":"Create";return{c(){e=u("div"),o=u("div"),r=u("div"),a=u("h2"),i=f(pt),v=p(),k=u("form"),$=u("div"),w=u("label"),w.textContent="Title",_=p(),C=u("input"),E=p(),T=u("div"),H=u("label"),H.textContent="Description",j=p(),O=u("textarea"),M=p(),L=u("div"),N=u("div"),P=u("label"),P.textContent="Priority",A=p(),I=u("select"),D=u("option"),D.textContent="High",F=u("option"),F.textContent="Medium",B=u("option"),B.textContent="Low",J=p(),U=u("div"),q=u("label"),q.textContent="Category",z=p(),K=u("select"),X=u("option"),X.textContent="AI Features",R=u("option"),R.textContent="Features",V=u("option"),V.textContent="Infrastructure",G=u("option"),G.textContent="UI/UX",Q=u("option"),Q.textContent="Analytics",W=u("option"),W.textContent="Integrations",Y=u("option"),Y.textContent="Setup",Z=p(),tt=u("div"),et=u("label"),et.textContent="Estimated Hours",nt=p(),ot=u("input"),rt=p(),st=u("div"),at=u("button"),at.textContent="Cancel",it=p(),lt=u("button"),ct=f(gt),dt=f(" Task"),m(a,"class","text-xl font-semibold text-gray-900"),m(r,"class","border-b px-6 py-4"),m(w,"for","title"),m(w,"class","block text-sm font-medium text-gray-700 mb-1"),m(C,"id","title"),m(C,"type","text"),C.required=!0,m(C,"class","w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"),m(H,"for","description"),m(H,"class","block text-sm font-medium text-gray-700 mb-1"),m(O,"id","description"),m(O,"rows","4"),m(O,"class","w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"),m(P,"for","priority"),m(P,"class","block text-sm font-medium text-gray-700 mb-1"),D.__value="high",b(D,D.__value),F.__value="medium",b(F,F.__value),B.__value="low",b(B,B.__value),m(I,"id","priority"),m(I,"class","w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"),void 0===t[1].priority&&S(()=>t[6].call(I)),m(q,"for","category"),m(q,"class","block text-sm font-medium text-gray-700 mb-1"),X.__value="ai-features",b(X,X.__value),R.__value="features",b(R,R.__value),V.__value="infrastructure",b(V,V.__value),G.__value="ui-ux",b(G,G.__value),Q.__value="analytics",b(Q,Q.__value),W.__value="integrations",b(W,W.__value),Y.__value="setup",b(Y,Y.__value),m(K,"id","category"),m(K,"class","w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"),void 0===t[1].category&&S(()=>t[7].call(K)),m(et,"for","hours"),m(et,"class","block text-sm font-medium text-gray-700 mb-1"),m(ot,"id","hours"),m(ot,"type","number"),m(ot,"min","0"),m(ot,"step","0.5"),m(ot,"class","w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"),m(L,"class","grid grid-cols-3 gap-4"),m(at,"type","button"),m(at,"class","px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors"),m(lt,"type","submit"),m(lt,"class","px-4 py-2 text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors"),m(st,"class","flex justify-end space-x-3 pt-4"),m(k,"class","p-6 space-y-4"),m(o,"class","bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"),m(e,"class","fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50")},m(n,s){var d;c(n,e,s),l(e,o),l(o,r),l(r,a),l(a,i),l(o,v),l(o,k),l(k,$),l($,w),l($,_),l($,C),b(C,t[1].title),l(k,E),l(k,T),l(T,H),l(T,j),l(T,O),b(O,t[1].description),l(k,M),l(k,L),l(L,N),l(N,P),l(N,A),l(N,I),l(I,D),l(I,F),l(I,B),x(I,t[1].priority,!0),l(L,J),l(L,U),l(U,q),l(U,z),l(U,K),l(K,X),l(K,R),l(K,V),l(K,G),l(K,Q),l(K,W),l(K,Y),x(K,t[1].category,!0),l(L,Z),l(L,tt),l(tt,et),l(tt,nt),l(tt,ot),b(ot,t[1].estimatedHours),l(k,rt),l(k,st),l(st,at),l(st,it),l(st,lt),l(lt,ct),l(lt,dt),ut||(ft=[g(C,"input",t[4]),g(O,"input",t[5]),g(I,"change",t[6]),g(K,"change",t[7]),g(ot,"input",t[8]),g(at,"click",t[3]),g(k,"submit",(d=t[2],function(t){return t.preventDefault(),d.call(this,t)}))],ut=!0)},p(t,[e]){1&e&&pt!==(pt=t[0]?"Edit Task":"New Task")&&h(i,pt),2&e&&C.value!==t[1].title&&b(C,t[1].title),2&e&&b(O,t[1].description),2&e&&x(I,t[1].priority),2&e&&x(K,t[1].category),2&e&&y(ot.value)!==t[1].estimatedHours&&b(ot,t[1].estimatedHours),1&e&&gt!==(gt=t[0]?"Update":"Create")&&h(ct,gt)},i:n,o:n,d(t){t&&d(e),ut=!1,s(ft)}}}function ut(t,e,n){let{task:o=null}=e;const r=_();let s={title:(null==o?void 0:o.title)||"",description:(null==o?void 0:o.description)||"",priority:(null==o?void 0:o.priority)||"medium",category:(null==o?void 0:o.category)||"features",estimatedHours:(null==o?void 0:o.estimatedHours)||""};return t.$$set=t=>{"task"in t&&n(0,o=t.task)},[o,s,function(){r("save",s)},function(){r("close")},function(){s.title=this.value,n(1,s)},function(){s.description=this.value,n(1,s)},function(){s.priority=v(this),n(1,s)},function(){s.category=v(this),n(1,s)},function(){s.estimatedHours=y(this.value),n(1,s)}]}class ft extends Q{constructor(t){super(),G(this,t,ut,dt,i,{task:0})}}function pt(t){let e,n;return e=new ft({props:{task:t[2]}}),e.$on("save",t[6]),e.$on("close",t[20]),{c(){K(e.$$.fragment)},m(t,o){X(e,t,o),n=!0},p(t,n){const o={};4&n&&(o.task=t[2]),e.$set(o)},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){R(e,t)}}}function gt(t){let e,n,o,r,s,a,i,f,g,y,h,b,x,v;a=new ct({props:{title:"Backlog",tasks:t[0].backlog,column:"backlog",color:"gray"}}),a.$on("dragstart",mt),a.$on("drop",t[3]),a.$on("dragover",yt),a.$on("newtask",t[8]),a.$on("edit",t[9]),a.$on("delete",t[10]),f=new ct({props:{title:"Active",tasks:t[0].active,column:"active",color:"blue"}}),f.$on("dragstart",mt),f.$on("drop",t[3]),f.$on("dragover",yt),f.$on("newtask",t[11]),f.$on("edit",t[12]),f.$on("delete",t[13]),y=new ct({props:{title:"Blocked",tasks:t[0].blocked,column:"blocked",color:"red"}}),y.$on("dragstart",mt),y.$on("drop",t[3]),y.$on("dragover",yt),y.$on("newtask",t[14]),y.$on("edit",t[15]),y.$on("delete",t[16]),b=new ct({props:{title:"Completed",tasks:t[0].completed,column:"completed",color:"green"}}),b.$on("dragstart",mt),b.$on("drop",t[3]),b.$on("dragover",yt),b.$on("newtask",t[17]),b.$on("edit",t[18]),b.$on("delete",t[19]);let k=t[1]&&pt(t);return{c(){e=u("div"),n=u("header"),n.innerHTML='<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex items-center justify-between h-16"><h1 class="text-2xl font-bold text-gray-900">PROPBOX Tasks</h1> <div class="text-sm text-gray-500">Kanban board for swarm task management</div></div></div>',o=p(),r=u("main"),s=u("div"),K(a.$$.fragment),i=p(),K(f.$$.fragment),g=p(),K(y.$$.fragment),h=p(),K(b.$$.fragment),x=p(),k&&k.c(),m(n,"class","bg-white shadow-sm border-b"),m(s,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"),m(r,"class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"),m(e,"class","min-h-screen bg-gray-100")},m(t,d){c(t,e,d),l(e,n),l(e,o),l(e,r),l(r,s),X(a,s,null),l(s,i),X(f,s,null),l(s,g),X(y,s,null),l(s,h),X(b,s,null),l(e,x),k&&k.m(e,null),v=!0},p(t,[n]){const o={};1&n&&(o.tasks=t[0].backlog),a.$set(o);const r={};1&n&&(r.tasks=t[0].active),f.$set(r);const s={};1&n&&(s.tasks=t[0].blocked),y.$set(s);const i={};1&n&&(i.tasks=t[0].completed),b.$set(i),t[1]?k?(k.p(t,n),2&n&&J(k,1)):(k=pt(t),k.c(),J(k,1),k.m(e,null)):k&&(F(),U(k,1,1,()=>{k=null}),B())},i(t){v||(J(a.$$.fragment,t),J(f.$$.fragment,t),J(y.$$.fragment,t),J(b.$$.fragment,t),J(k),v=!0)},o(t){U(a.$$.fragment,t),U(f.$$.fragment,t),U(y.$$.fragment,t),U(b.$$.fragment,t),U(k),v=!1},d(t){t&&d(e),R(a),R(f),R(y),R(b),k&&k.d()}}}function mt(t,e,n){t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text/json",JSON.stringify({task:e,fromColumn:n}))}function yt(t){t.preventDefault(),t.dataTransfer.dropEffect="move"}function ht(t,e,n){let o={backlog:[],active:[],completed:[],blocked:[]},r=!1,s=null,a="backlog";var i;async function l(){try{const t=await fetch("/api/tasks"),e=await t.json();Object.keys(e).forEach(t=>{n(0,o[t]=e[t].map(t=>({id:t.id,title:t.title,priority:t.priority,category:t.category,estimatedHours:t.estimated_hours,completedDate:t.completed_date,description:t.description,filename:t.filename})),o)}),n(0,o)}catch(t){console.error("Error loading tasks:",t)}}function c(t){a=t,n(2,s=null),n(1,r=!0)}function d(t,e){a=e,n(2,s=t),n(1,r=!0)}async function u(t,e){if(confirm("Are you sure you want to delete this task?"))try{if(!(await fetch(`/api/tasks/${t}`,{method:"DELETE"})).ok)throw new Error("Failed to delete task");n(0,o[e]=o[e].filter(e=>e.id!==t),o),n(0,o)}catch(r){console.error("Error deleting task:",r),alert("Failed to delete task. Please try again.")}}i=async()=>{await l()},w().$$.on_mount.push(i);return[o,r,s,function(t,e){t.preventDefault();const r=JSON.parse(t.dataTransfer.getData("text/json")),{task:s,fromColumn:a}=r;a!==e&&(n(0,o[a]=o[a].filter(t=>t.id!==s.id),o),n(0,o[e]=[...o[e],s],o),async function(t,e){try{if(!(await fetch(`/api/tasks/${t}/move`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({toState:e})})).ok)throw new Error("Failed to move task");n(0,o)}catch(r){console.error("Error moving task:",r),await l()}}(s.id,e))},c,d,async function(t){const e=t.detail;try{if(s){if(!(await fetch(`/api/tasks/${s.id}?state=${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,estimated_hours:e.estimatedHours})})).ok)throw new Error("Failed to update task");n(0,o[a]=o[a].map(t=>t.id===s.id?{...e,id:s.id}:t),o)}else{const t=await fetch(`/api/tasks?state=${a}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,estimated_hours:e.estimatedHours})});if(!t.ok)throw new Error("Failed to create task");const{id:r}=await t.json(),s={...e,id:r};n(0,o[a]=[...o[a],s],o)}n(0,o),n(1,r=!1)}catch(i){console.error("Error saving task:",i),alert("Failed to save task. Please try again.")}},u,()=>c("backlog"),t=>d(t.detail.task,"backlog"),t=>u(t.detail.taskId,"backlog"),()=>c("active"),t=>d(t.detail.task,"active"),t=>u(t.detail.taskId,"active"),()=>c("blocked"),t=>d(t.detail.task,"blocked"),t=>u(t.detail.taskId,"blocked"),()=>c("completed"),t=>d(t.detail.task,"completed"),t=>u(t.detail.taskId,"completed"),()=>n(1,r=!1)]}new class extends Q{constructor(t){super(),G(this,t,ht,gt,i,{})}}({target:document.getElementById("app")});
